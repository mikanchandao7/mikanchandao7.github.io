<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JUDAS | Premium Experience</title>
<meta name="referrer" content="no-referrer">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
<style>
:root{
--bg:#050505;--card-bg:#111111;--primary:#ff2e63;--text-main:#fff;--text-dim:#888;
}
body{margin:0;padding:0;font-family:'Inter',sans-serif;background:var(--bg);color:var(--text-main);-webkit-font-smoothing:antialiased;}
.hero{height:40vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background:radial-gradient(circle at center,#1a1a1a 0%,#000 100%);}
.hero h1{font-size:clamp(3rem,10vw,6rem);font-weight:900;letter-spacing:-0.07em;color:var(--primary);margin:0;text-transform:uppercase;transition:transform 0.2s;}
.hero p{color:var(--text-dim);font-size:0.8rem;letter-spacing:0.3em;margin-top:-10px;text-transform:uppercase;}
.container{padding:40px 5vw;max-width:1600px;margin:0 auto;}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:20px;}
.controls select,.controls button{padding:6px 12px;border-radius:6px;border:none;cursor:pointer;background:#222;color:#fff;font-weight:700;}
.controls button.active{background:var(--primary);}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:30px;}
.card{background:var(--card-bg);border-radius:12px;overflow:hidden;text-decoration:none;color:white;transition:all 0.4s cubic-bezier(0.165,0.84,0.44,1);border:1px solid rgba(255,255,255,0.05);display:block;position:relative;}
.card:hover{transform:translateY(-8px);border-color:var(--primary);box-shadow:0 20px 40px rgba(0,0,0,0.6);}
.card-img-wrapper{width:100%;aspect-ratio:16/9;overflow:hidden;background:#000;position:relative;}
.card img{width:100%;height:100%;object-fit:cover;transition: transform 0.6s ease;display:block;}
.card:hover img{transform:scale(1.1);}
.card-content{padding:20px;}
.card-category{font-size:0.7rem;color:var(--primary);font-weight:700;margin-bottom:8px;letter-spacing:0.1em;}
.card-title{font-size:1.1rem;font-weight:700;margin:0;line-height:1.3;color:#efefef;}
.pagination{margin-top:30px;display:flex;gap:8px;flex-wrap:wrap;justify-content:center;}
.pagination button{padding:6px 12px;border:none;border-radius:6px;background:#222;color:#fff;cursor:pointer;font-weight:700;}
.pagination button.active{background:var(--primary);}
::-webkit-scrollbar{width:8px;}
::-webkit-scrollbar-track{background:#000;}
::-webkit-scrollbar-thumb{background:#333;border-radius:4px;}
::-webkit-scrollbar-thumb:hover{background:var(--primary);}
.skeleton{background:#222;animation:skeleton-loading 1.2s infinite;}
@keyframes skeleton-loading{0%{opacity:0.3;}50%{opacity:1;}100%{opacity:0.3;}}
</style>
</head>
<body>
<div class="hero">
<h1>JUDAS</h1>
<p>Premium Experience</p>
</div>
<div class="container">
<div class="controls">
<select id="categoryFilter"><option value="all">All Categories</option></select>
<select id="sortOrder">
<option value="newest">Newest</option>
<option value="oldest">Oldest</option>
</select>
</div>
<div class="grid" id="productGrid"></div>
<div class="pagination" id="pagination"></div>
</div>

<script>
const myID="TkRBM016QXhNekk9";
const products=[ /* ここに全商品リスト */ ];

let currentPage=1, perPage=20, filteredProducts=[...products];
const categorySelect=document.getElementById('categoryFilter');
[...new Set(products.map(p=>p.cat))].sort().forEach(cat=>{
  const opt=document.createElement('option'); opt.value=cat; opt.textContent=cat;
  categorySelect.appendChild(opt);
});

function renderGrid(){
  const grid=document.getElementById('productGrid');
  grid.innerHTML='';
  const start=(currentPage-1)*perPage, end=start+perPage;
  filteredProducts.slice(start,end).forEach(p=>{
    const imgHigh=p.img.replace('w128','w720');
    const card=document.createElement('a'); card.className='card';
    card.href=`https://adult.contents.fc2.com/article/${p.id}/?i=${myID}`; card.target='_blank';
    card.innerHTML=`<div class="card-img-wrapper"><img src="${imgHigh}" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=600'" class="skeleton"></div>
      <div class="card-content"><div class="card-category">${p.cat}</div><h3 class="card-title">${p.title}</h3></div>`;
    grid.appendChild(card);
    card.querySelector('img').onload=()=>card.querySelector('img').classList.remove('skeleton');
  });
  renderPagination();
}

function renderPagination(){
  const pagination=document.getElementById('pagination'); pagination.innerHTML='';
  const totalPages=Math.ceil(filteredProducts.length/perPage);
  for(let i=1;i<=totalPages;i++){
    const btn=document.createElement('button'); btn.textContent=i;
    if(i===currentPage) btn.classList.add('active');
    btn.addEventListener('click',()=>{ currentPage=i; renderGrid(); history.pushState({page:i},`Page ${i}`,`?page=${i}`); });
    pagination.appendChild(btn);
  }
}

// カテゴリフィルター
categorySelect.addEventListener('change',()=>{
  const val=categorySelect.value;
  filteredProducts=val==='all'? [...products]: products.filter(p=>p.cat===val);
  currentPage=1; renderGrid(); history.pushState({page:1},`Page 1`,'?page=1');
});

// 並び順
document.getElementById('sortOrder').addEventListener('change',e=>{
  const val=e.target.value;
  filteredProducts.sort((a,b)=>val==='newest'? products.indexOf(b)-products.indexOf(a): products.indexOf(a)-products.indexOf(b));
  currentPage=1; renderGrid(); history.pushState({page:1},`Page 1`,'?page=1');
});

// 無限スクロール
window.addEventListener('scroll',()=>{
  if(window.innerHeight+window.scrollY>=document.body.offsetHeight-200){
    const totalPages=Math.ceil(filteredProducts.length/perPage);
    if(currentPage<totalPages){ currentPage++; renderGrid(); history.replaceState({page:currentPage},`Page ${currentPage}`,`?page=${currentPage}`); }
  }
});

// 履歴操作対応
window.addEventListener('popstate',event=>{ if(event.state&&event.state.page){ currentPage=event.state.page; renderGrid(); } });

// 初期描画
const urlParams=new URLSearchParams(window.location.search);
const pageFromUrl=parseInt(urlParams.get('page'));
if(pageFromUrl>=1) currentPage=pageFromUrl;
renderGrid();
history.replaceState({page:currentPage},`Page ${currentPage}`,`?page=${currentPage}`);

// ヒーロー追従マウス
document.addEventListener('mousemove',e=>{
  const x=(e.clientX/window.innerWidth-0.5)*20;
  const y=(e.clientY/window.innerHeight-0.5)*20;
  document.querySelector('.hero h1').style.transform=`translate(${x}px,${y}px)`;
});
</script>
</body>
</html>
